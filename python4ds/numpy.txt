§ Полезные атрибуты и методы np.ndarray
.ndim, .shape, .size - размерность и количество элементов по измерениям/ всего
.reshape() - возвращает view массива с другой размерностью
.resize() - меняет размерность in place, ничего не возвращает
.ravel() - возвращает view массива без размерности, как .reshape(-1)
.flatten() - возвращает копию массива без установленной размерности
.flat - итератор по плоскому массиву, без учета размерностей
.add(), .subtract(), .multiply(), .dot() - операции с массивами/ матрицами, включая векторное (матричное) произведение
.T - транспонированная матрица
§ Матричные операции
np.transpose() - транспонирование
np.linalg.det() - определитель
np.linalg.matrix_rank() - ранг
np.linalg.inv() - обратная матрица
§ Генерация массивов и случайные значения
np.eye(), np.zeros(), np.ones(), np.arange() - единичная матрица, нули, единицы, последовательность
np.linspace(), np.logspace() - равномерно распределенная последовательность (степеней 10), границы отрезка включены
np.tile() - повторить шаблон несколько раз в заданных измерениях
np.random.choice() - выборка из массива, аналогично sample пакета random стандартной библиотеки
np.random.sample() - равномерно распределенные случайные float на полуоткрытом интервале [0,1)
np.random.randn() - нормальное распределение
np.random.randint() - равномерно распределенные целые на [от, до)
np.random.shuffle() - перемешивание элементов (только первое измерение)
§ Соединение массивов
np.vstack(), np.hstack() - "вертикально", т.е. по нулевому измерению (строки), или горизонтально
np.column_stack() - идеологический аналог zip, не путать с vstack/ hstack
np.concatenate() - соединить согласно параметру axis (0=вертикально, 1=горизонтально, None=без измерений, flat)
np.dstack() - "вдоль третьей оси"
§ Индексация и выборка
np.isnan() - булевый вектор: True, если элемент np.nan
np.nonzero(), np.flatnonzero() - индексы ненулевых элементов; пример: np.nonzero(np.isnan(x)) - индексы nan-элементов
np.where(условие, x, y) - если выполнено условие, взять из x, иначе из y
.argsort() - индексы в порядке возрастания значений отсортированного измерения axis
§ Пример broadcasting: таблица умножения
mtab = np.expand_dims(np.arange(1, 10), axis=1) * np.arange(1, 10)
Эквивалентная запись: mtab = np.arange(1, 10)[:, np.newaxis] * np.arange(1, 10)
§ Сравнение
np.equal() - поэлементное сравнение
np.close() - поэлементное сравнение с учетом вычислительной погрешности (возвращает массив boolean)
np.allclose() - сравнение массивов с учетом вычислительной погрешности (возвращает скаляр boolean)
§ Темы для отдельного изучения
- Masked Arrays, массивы с фильтрацией некорректных значений
- Функции ufunc и методы выборочного их применения, такие как .at()
- Объект Generator, см. np.random.default_rng(), для массовой генерации случайных чисел
